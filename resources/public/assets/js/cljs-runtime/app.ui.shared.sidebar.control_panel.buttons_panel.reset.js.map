{"version":3,"sources":["app/ui/shared/sidebar/control_panel/buttons_panel/reset.cljs"],"mappings":"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","names":["G__36397","props__27592__auto__","maybe-ref__27593__auto__","vec__36408","helix.core/extract-cljs-props","goog/DEBUG","G__36720","app.ui.shared.sidebar.control-panel.buttons-panel.reset/btn-reset","sim","refx.alpha/use-sub","disable","cljs.core._EQ_","reset-sim","refx.alpha/dispatch","stop-and-reset","c__27285__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__27286__auto__","switch__27247__auto__","state_36464","state_val_36465","inst_36437","cljs.core/PersistentVector","inst_36448","inst_36450","inst_36454","inst_36457","statearr-36520","cljs.core.async.impl.ioc-helpers/take!","inst_36460","inst_36461","statearr-36530","cljs.core.async.impl.ioc-helpers/return-chan","statearr-36531","state-machine__27248__auto__","ret-value__27249__auto__","result__27250__auto__","cljs.core/keyword-identical?","ex__27251__auto__","e36550","statearr-36557","cljs.core/seq","statearr-36572","cljs.core/first","state__27287__auto__","statearr-36596","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.async/timeout","reset-handler","G__36607","app.ui.shared.sidebar.control-panel.buttons-panel.layer/btn-layer","G__36615","G__36616","obj36618","helix.core/jsx","G__36608","G__36609","obj36611","G__36625","G__36626","obj36630","G__36637","G__36638","obj36640","G__36653","G__36654","obj36659","G__36662","G__36663","obj36665","G__36667","G__36668","obj36674","helix.core/jsxs","G__36691","G__36692","obj36696","helix.impl.props/normalize-class","G__36704","G__36705","obj36710"],"sourcesContent":["(ns app.ui.shared.sidebar.control-panel.buttons-panel.reset\n  (:require [helix.core :refer [defnc $]]\n            [helix.dom :as d]\n            [refx.alpha :refer [use-sub dispatch]]\n            [app.ui.shared.sidebar.control-panel.buttons-panel.layer :refer [btn-layer]]\n            [cljs.core.async :refer [<! timeout go]]))\n\n(defnc btn-reset []\n  (let [sim (use-sub [:sim])\n        disable (or (= sim \"starting\") (= sim \"stopping\"))\n        reset-sim #(do\n                     (dispatch [:ws/send! [:sim/stop]])\n                     (dispatch [:sim/reset]))\n        stop-and-reset #(go\n                          (dispatch [:sim/change \"stopping\"])\n                          (<! (timeout 2000))\n                          (reset-sim))\n        reset-handler (case sim\n                        \"run\" stop-and-reset\n                        \"pause\" stop-and-reset\n                        reset-sim)]\n    (d/g\n      ($ btn-layer {:dl       \"M317.26,188.637h-1.237a50.31,50.31,0,0,1-50.31-50.31V78.861H367.57v59.467A50.31,50.31,0,0,1,317.26,188.637Z\"\n                    :dm       \"M316.024,187.291a49.867,49.867,0,0,1-49.811-49.81V78.515H367.071v58.966a49.868,49.868,0,0,1-49.811,49.81Z\"\n                    :dt       \"M367.071,78.515v58.966a49.868,49.868,0,0,1-49.811,49.81h-1.236a49.867,49.867,0,0,1-49.811-49.81V78.515\"\n                    :mask-url \"url(#btn-pnl-mask-2)\"})\n\n      (d/g {:opacity (if disable 0.25 1)}\n           (d/circle {:class  \"btn-pnl-stroke\"\n                      :stroke \"#db1d43\"\n                      :cx     316.642 :cy 136.883 :r 37.804})\n           (d/circle {:class  \"btn-pnl-stroke\"\n                      :stroke \"#db1d43\"\n                      :cx     316.642 :cy 136.883 :r 20.804})\n           (d/path {:fill   \"#db1d43\"\n                    :stroke \"#db1d43\"\n                    :d      \"M 289.837433 132.725815 L 294.871155 141.405945 C 295.028778 141.677811 295.319489 141.84491 295.633759 141.844269 C 295.947998 141.843613 296.238037 141.675323 296.394531 141.402802 L 301.394775 132.702591 C 301.551453 132.430176 301.550873 132.094849 301.393219 131.822998 C 301.235565 131.551132 300.944824 131.384064 300.630585 131.384735 L 290.595642 131.404526 C 290.281311 131.404938 289.991119 131.57309 289.834503 131.845612 C 289.677887 132.118134 289.67865 132.453522 289.836548 132.725311 L 294.871155 141.405945 C 295.028778 141.677811 295.319489 141.84491 295.633759 141.844269 C 295.947998 141.843613 296.238037 141.675323 296.394531 141.402802 L 301.394775 132.702591 C 301.551453 132.430176 301.550873 132.094849 301.393219 131.822998 C 301.235565 131.551132 300.944824 131.384064 300.630585 131.384735 L 290.595642 131.404526 C 290.281403 131.40509 289.991302 131.573273 289.834717 131.845734 C 289.678131 132.118195 289.678833 132.453506 289.836548 132.725311 Z\"})\n           (d/path {:fill         \"none\"\n                    :stroke       \"#db1d43\"\n                    :stroke-width 2\n                    :d            \"M 288 145 L 304 145 L 304 143 L 288 143 Z\"}))\n\n      (d/circle {:class    (str \"touch-area\" (if disable \" disable\" \"\")) :cx 316.5 :cy 137 :r 40\n                 :on-click (if disable nil reset-handler)})\n\n      (d/text {:class \"btn-pnl-label\" :x 316.5 :y 217}\n              \"Reset\"))))"]}