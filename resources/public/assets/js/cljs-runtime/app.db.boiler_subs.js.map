{"version":3,"sources":["app/db/boiler_subs.cljs"],"mappings":";AAGA,iDAAA,jDAACA,0GACQ,WAAKC,GAAGC;AAAR,AACE,OAAA,uFAASD;;AAEpB,mBAAA,oFAAA,gDAAA,mFAAA,1OAACE,2SAEQ,WAAKC,OAAOF;AAAZ,AACE,OAAA,oGAAgBE;;AAE3B,mBAAA,mEAAA,gDAAA,mFAAA,zNAACD,0RAEQ,WAAKC,OAAOF;AAAZ,AACE,OAAA,iGAAcE;;AAEzB,mBAAA,oEAAA,gDAAA,mFAAA,1NAACD,2RAEQ,WAAKC,OAAOF;AAAZ,AACE,OAAA,kGAAcE;;AAEzB,mBAAA,4EAAA,gDAAA,mFAAA,lOAACD,8TAEQ,WAAKE,qBAAqBH;AAA1B,AACE,OAAA,0GAAkBG;;AAE7B,wDAAA,uEAAA,gDAAA,mFAAA,4EAAA,kGAAA,mFAAA,ngBAACL,ulBAGQ,WAAAM,SAAmCJ;AAAnC,AAAA,IAAAK,aAAAD;kBAAA,AAAAE,4CAAAD,WAAA,IAAA,zEAAME;sBAAN,AAAAD,4CAAAD,WAAA,IAAA,7EAAkBG;AAAlB,AACE,IAAMC,QAAM,CAAA,QAAO,CAAGF,cAAYC;AAAlC,AACE,GAAI,SAAA,RAAGC;AAAP;;AAAkBA;;;AAE/B,mBAAA,8EAAA,gDAAA,mFAAA,pOAACR,mTAEQ,WAAKS,sBAAcV;AAAnB,AACE,qBAAA,jBAAMW;AAAN,AACE,QAAG,kBAAA,jBAAGA,0BAAoBD;;AAEvC,mBAAA,4DAAA,gDAAA,mFAAA,lNAACT,mRAEQ,WAAKC,OAAOF;AAAZ,AACE,OAAA,0FAAWE;;AAEtB,mBAAA,uEAAA,gDAAA,mFAAA,7NAACD,8RAEQ,WAAKC,OAAOF;AAAZ,AACE,OAAA,qGAAgBE;;AAE3B,mBAAA,qEAAA,gDAAA,mFAAA,3NAACD,4RAEQ,WAAKC,OAAOF;AAAZ,AACE,OAAA,mGAAeE;;AAE1B,wDAAA,2EAAA,gDAAA,mFAAA,oEAAA,kGAAA,mFAAA,+EAAA,gDAAA,mFAAA,jtBAACJ,8xBAIQ,WAAAc,SAA2CZ;AAA3C,AAAA,IAAAa,aAAAD;eAAA,AAAAN,4CAAAO,WAAA,IAAA,tEAAMC;oBAAN,AAAAR,4CAAAO,WAAA,IAAA,3EAAeE;mBAAf,AAAAT,4CAAAO,WAAA,IAAA,1EAA6BG;AAA7B,AACE,SAAK,8BAAA,7BAAG,CAAGF,WAASC,8BAAuB,gBAAA,fAAGC","names":["refx.alpha.reg_sub","db","_","refx.alpha/reg-sub","boiler","boiler-init-settings","p__43106","vec__43109","cljs.core.nth","sludge-mass","sludge-mass-max","value","sludge-mass-%","max-svg-height","p__43119","vec__43120","pressure","prev-pressure","conductivity"],"sourcesContent":["(ns app.db.boiler-subs\n  (:require [refx.alpha :refer [reg-sub]]))\n\n(reg-sub :boiler\n         (fn [db _]\n           (:boiler db)))\n\n(reg-sub :boiler-init-settings\n         :<- [:boiler]\n         (fn [boiler _]\n           (:init-settings boiler)))\n\n(reg-sub :water-level\n         :<- [:boiler]\n         (fn [boiler _]\n           (:water-level boiler)))\n\n(reg-sub :sludge-mass\n         :<- [:boiler]\n         (fn [boiler _]\n           (:sludge-mass boiler)))\n\n(reg-sub :sludge-mass-max\n         :<- [:boiler-init-settings]\n         (fn [boiler-init-settings _]\n           (:sludge-mass-max boiler-init-settings)))\n\n(reg-sub :sludge-mass-%\n         :<- [:sludge-mass]\n         :<- [:sludge-mass-max]\n         (fn [[sludge-mass sludge-mass-max] _]\n           (let [value (* 100 (/ sludge-mass sludge-mass-max))]\n             (if (< value 0) 0 value))))\n\n(reg-sub :sludge-svg-height\n         :<- [:sludge-mass-%]\n         (fn [sludge-mass-% _]\n           (let [max-svg-height 20.587]\n             (* (/ max-svg-height 100) sludge-mass-%))))\n\n(reg-sub :pressure\n         :<- [:boiler]\n         (fn [boiler _]\n           (:pressure boiler)))\n\n(reg-sub :prev-pressure\n         :<- [:boiler]\n         (fn [boiler _]\n           (:prev-pressure boiler)))\n\n(reg-sub :conductivity\n         :<- [:boiler]\n         (fn [boiler _]\n           (:conductivity boiler)))\n\n(reg-sub :show-water-foam\n         :<- [:pressure]\n         :<- [:prev-pressure]\n         :<- [:conductivity]\n         (fn [[pressure prev-pressure conductivity] _]\n           (and (< (- pressure prev-pressure) -0.027) (> conductivity 2500))))\n"]}