{"version":3,"sources":["app/shared/control_panel/slider.cljs"],"mappings":"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","names":["app.shared.control-panel.slider/track-length","app.shared.control-panel.slider/track-geometry","width","app.shared.control-panel.slider/knob-geometry","app.shared.control-panel.slider/value-box-geometry","x","G__43457","props__27565__auto__","maybe-ref__27566__auto__","vec__43458","helix.core/extract-cljs-props","map__43461","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","goog/DEBUG","G__43474","app.shared.control-panel.slider/value-view","y","active","value","fraction","unit","fill","cljs.pprint.cl_format","G__43477","vec__43478","map__43481","G__43513","app.shared.control-panel.slider/slider","title","max-val","v-%","next-v-%","value-box","vec__43482","knob-ref","track-ref","fill-track-ref","knob-x","value-%","val-in-unit","on-knob-down","on-track-down","on-fill-track-down","p1__43475#","app.shared.control-panel.slider-hook/use-slider","js/console.log","cljs.core/first","cljs.core/second","G__43509","G__43510","helix.impl.props/merge-obj","obj43512","helix.impl.props._props","helix.core/jsx","G__43462","G__43463","obj43465","G__43466","G__43467","obj43469","helix.impl.props._dom_props","G__43470","G__43471","obj43473","helix.core/jsxs","G__43485","G__43486","obj43488","G__43489","G__43490","obj43492","G__43493","G__43494","obj43496","G__43497","G__43498","obj43500","G__43501","G__43502","obj43504","G__43505","G__43506","obj43508"],"sourcesContent":["(ns app.shared.control-panel.slider\n  (:require [helix.core :refer [defnc $]]\n            [helix.dom :as d]\n            [cljs.pprint :refer [cl-format]]\n            [app.shared.control-panel.slider-hook :refer [use-slider]]))\n\n(def track-length 90)\n\n(defn track-geometry [width]\n  {:x 0 :y 3.25 :width width :height 3.5 :rx 1.75 :ry 1.75})\n\n(def knob-geometry {:cx 5 :cy 5 :r 5})\n\n(defn value-box-geometry [x width]\n  {:x x :y 0 :width width :height 10 :rx 5 :ry 5})\n\n(defnc value-view [{:keys [x width y active value fraction unit fill]}]\n  (d/g {:transform (str \"translate(380,\" y \") scale(3.134)\") :opacity (if active 1 0.25)}\n       (d/rect {:fill fill :& (value-box-geometry x width)})\n       (d/text {:x (+ x 2.3) :y 5.714 :font-size 7 :fill \"#eee\" :dominant-baseline \"middle\"}\n               (str (cl-format nil (str \"~,\" fraction \"f\") value) \" \" unit))))\n\n(defnc slider [{:keys [y title max-val v-% next-v-% active value-box]}]\n  (let [[knob-ref track-ref fill-track-ref\n         knob-x value-% val-in-unit\n         on-knob-down on-track-down on-fill-track-down] (use-slider max-val next-v-% track-length (:r knob-geometry)\n                                                                    #(js/console.log \"effect-send\" (first %) (second %)))]\n    (d/g\n      (when title\n        (d/text {:class \"slider-title\" :transform (str \"translate(67,\" (- y 10) \") scale(3.134)\") :font-size 6}\n                title))\n\n      (d/g {:transform (str \"translate(67,\" y \") scale(3.134)\") :opacity (if active 1 0.25)}\n           (d/rect {:ref             track-ref\n                    :fill            \"#6f7684\"\n                    :on-pointer-down (if active on-track-down nil)\n                    :&               (track-geometry 100)})\n\n           (d/rect {:ref             fill-track-ref\n                    :fill            \"#1cb0ea\"\n                    :on-pointer-down (if active on-fill-track-down nil)\n                    :&               (track-geometry value-%)})\n\n           (d/circle {:ref             knob-ref\n                      :class           \"slider-knob\"\n                      :transform       (str \"translate(\" knob-x \")\")\n                      :on-pointer-down (if active on-knob-down nil)\n                      :&               knob-geometry}))\n\n      ($ value-view {:y y :active active :value val-in-unit :& value-box}))))\n\n\n\n\n\n\n\n\n\n\n"]}