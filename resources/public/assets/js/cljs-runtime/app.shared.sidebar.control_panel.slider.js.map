{"version":3,"sources":["app/shared/sidebar/control_panel/slider.cljs"],"mappings":"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","names":["app.shared.sidebar.control-panel.slider/track-length","app.shared.sidebar.control-panel.slider/track-geometry","width","app.shared.sidebar.control-panel.slider/knob-geometry","app.shared.sidebar.control-panel.slider/value-box-geometry","x","G__49445","props__27584__auto__","maybe-ref__27585__auto__","vec__49446","helix.core/extract-cljs-props","map__49449","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","goog/DEBUG","G__49462","app.shared.sidebar.control-panel.slider/value-view","y","active","value","fraction","unit","fill","cljs.pprint.cl_format","G__49465","vec__49466","map__49469","G__49503","app.shared.sidebar.control-panel.slider/slider","title","max-val","v-%","next-v-%","value-box","vec__49470","knob-ref","track-ref","fill-track-ref","knob-x","value-%","val-in-unit","on-knob-down","on-track-down","on-fill-track-down","p1__49463#","app.shared.sidebar.control-panel.slider-hook/use-slider","js/console.log","cljs.core/first","cljs.core/second","G__49499","G__49500","helix.impl.props/merge-obj","obj49502","helix.impl.props._props","helix.core/jsx","G__49450","G__49451","obj49453","G__49454","G__49455","obj49457","helix.impl.props._dom_props","G__49458","G__49459","obj49461","helix.core/jsxs","G__49473","G__49474","obj49476","obj49478","helix.impl.props/->js","G__49479","G__49480","obj49482","G__49483","G__49484","obj49486","G__49487","G__49488","obj49490","G__49491","G__49492","obj49494","G__49495","G__49496","obj49498"],"sourcesContent":["(ns app.shared.sidebar.control-panel.slider\n  (:require [helix.core :refer [defnc $]]\n            [helix.dom :as d]\n            [cljs.pprint :refer [cl-format]]\n            [app.shared.sidebar.control-panel.slider-hook :refer [use-slider]]))\n\n(def track-length 90)\n\n(defn track-geometry [width]\n  {:x 0 :y 3.25 :width width :height 3.5 :rx 1.75 :ry 1.75})\n\n(def knob-geometry {:cx 5 :cy 5 :r 5})\n\n(defn value-box-geometry [x width]\n  {:x x :y 0 :width width :height 10 :rx 5 :ry 5})\n\n(defnc value-view [{:keys [x width y active value fraction unit fill]}]\n  (d/g {:transform (str \"translate(\" x \",\" y \") scale(3.134)\") :opacity (if active 1 0.25)}\n       (d/rect {:fill fill :& (value-box-geometry x width)})\n       (d/text {:x (+ x 31.8) :y 5.714 :font-size 7 :fill \"#eee\" :dominant-baseline \"middle\" :text-anchor \"end\"}\n               (str (cl-format nil (str \"~,\" fraction \"f\") value) \" \" unit))))\n\n(defnc slider [{:keys [x y title max-val v-% next-v-% active value-box]}]\n  (let [[knob-ref track-ref fill-track-ref\n         knob-x value-% val-in-unit\n         on-knob-down on-track-down on-fill-track-down] (use-slider max-val next-v-% track-length (:r knob-geometry)\n                                                                    #(js/console.log \"effect-send\" (first %) (second %)))]\n    (d/g {:style {:transform (str \"translate(\" x \"px,\" y \"px)\")}}\n         (when title\n           (d/text {:x 0 :y -8 :class \"slider-title\" :font-size 20}\n                   title))\n\n         (d/g {:transform \"scale(3.134)\" :opacity (if active 1 0.25)}\n              (d/rect {:ref             track-ref\n                       :fill            \"#6f7684\"\n                       :on-pointer-down (if active on-track-down nil)\n                       :&               (track-geometry 100)})\n\n              (d/rect {:ref             fill-track-ref\n                       :fill            \"#1cb0ea\"\n                       :on-pointer-down (if active on-fill-track-down nil)\n                       :&               (track-geometry value-%)})\n\n              (d/circle {:ref             knob-ref\n                         :class           \"slider-knob\"\n                         :transform       (str \"translate(\" knob-x \")\")\n                         :on-pointer-down (if active on-knob-down nil)\n                         :&               knob-geometry}))\n\n         ($ value-view {:active active :value val-in-unit :& value-box}))))\n\n\n\n\n\n\n\n\n\n\n"]}