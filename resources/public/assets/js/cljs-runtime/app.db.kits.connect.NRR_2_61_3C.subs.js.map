{"version":3,"sources":["app/db/kits/connect/NRR_2_61_3C/subs.cljs"],"mappings":";AAKA,iDAAA,jDAACA,qHACQ,WAAKC,GAAGC;AAAR,AACE,yDAAA,mFAAA,2DAAA,uDAAA,oEAAA,3TAACC,+CAAOF;;AAEnB,mBAAA,2FAAA,gDAAA,mFAAA,jPAACG,6TAEQ,WAAAC,SAA2BH;AAA3B,AAAA,IAAAI,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;kBAAA,AAAAE,4CAAAF,eAAA,zEAAaG;AAAb,AACE,IAAAC,aAA6BD;IAA7BC,iBAAA,AAAAH,4BAAAG;aAAA,AAAAF,4CAAAE,eAAA,pEAAcC;YAAd,AAAAH,4CAAAE,eAAA,nEAAqBE;IACfC,iBAAe,AAACC,kCAAqB,AAAA,mFAAOH,QAAQ,AAAA,8FAAaC;IACjEG,sBAAoB,CAAG,AAAA,gFAAA,AAAA,4GAAIC,uCAA0C,CAAGH,iBAAe,AAAA,4GAAA,AAAA,4GAAIG;AAFjG,6CAGMP,nBACA,+BAAA,mFAAA,0DAAA,5KAACQ,6PAAmCJ,vRACpC,uSAAA,mFAAA,8EAAA,jcAACI,wgBAAwCF;;AAE1D,mBAAA,+CAAA,gDAAA,mFAAA,rMAACX,wSAEQ,WAAKc,IAAIhB;AAAT,AACE,iCAAA,mFAAA,0DAAA,vKAACiB,sBAAYD;;AAExB,wDAAA,6FAAA,gDAAA,mFAAA,kFAAA,kGAAA,mFAAA,/hBAAClB,0nBAGQ,WAAAoB,SAA0BlB;AAA1B,AAAA,IAAAmB,aAAAD;sBAAA,AAAAE,4CAAAD,WAAA,IAAA,7EAAME;SAAN,AAAAD,4CAAAD,WAAA,IAAA,hEAAsBG;AAAtB,AACE,SAAK,6DAAA,7DAACC,6CAAEF,yCAAoC,gDAAA,hDAACE,6CAAED","names":["refx.alpha.reg_sub","db","_","cljs.core.get_in","refx.alpha/reg-sub","p__33689","map__33694","cljs.core/--destructure-map","cljs.core.get","calibration","map__33696","points","cal-p","next-real-high","app.db.utils/calc-real-high-point","next-high-by-boiler","app.db.constants/LEVEL-CALIBRATION","cljs.core/assoc-in","cal","cljs.core/select-keys","p__33701","vec__33709","cljs.core.nth","current-hotspot","id","cljs.core._EQ_"],"sourcesContent":["(ns app.db.kits.connect.NRR-2-61-3C.subs\n  (:require [refx.alpha :refer [reg-sub]]\n            [app.db.utils :refer [calc-real-high-point]]\n            [app.db.constants :refer [LEVEL-CALIBRATION]]))\n\n(reg-sub :NRR-2-61-3C\n         (fn [db _]\n           (get-in db [:connect :level :controllers \"NRR 2-61 3C\"])))\n\n(reg-sub :NRR-2-61-3C-calibration\n         :<- [:NRR-2-61-3C]\n         (fn [{:keys [calibration]} _]\n           (let [{:keys [points cal-p]} calibration\n                 next-real-high (calc-real-high-point (:high points) (:next-value cal-p))\n                 next-high-by-boiler (+ (-> LEVEL-CALIBRATION :points-by-boiler :min) (* next-real-high (-> LEVEL-CALIBRATION :points-by-boiler :%-in-digital-unit)))]\n             (-> calibration\n                 (assoc-in [:points :next-real-high] next-real-high)\n                 (assoc-in [:points-by-boiler :next-high] next-high-by-boiler)))))\n\n(reg-sub \":connect/NRR 2-61 3C/calibration-boiler-view\"\n         :<- [:NRR-2-61-3C-calibration]\n         (fn [cal _]\n           (select-keys cal [:points :points-by-boiler])))\n\n(reg-sub :NRR-2-61-3C-show-toolbar\n         :<- [:current-hotspot]\n         :<- [:level-controller-id]\n         (fn [[current-hotspot id] _]\n           (and (= current-hotspot \"level-controller\") (= id \"NRR 2-61 3C\"))))\n"]}