{"version":3,"sources":["app/db/boiler_plant/actuators/blowdown/sludge_valve/events.cljs"],"mappings":";AAIA,sDAAA,tDAACA,yIACa,WAAAC,SAAAC;AAAA,AAAA,IAAAC,aAAAF;IAAAE,iBAAA,AAAAC,4BAAAD;SAAAA,LAAsBO;UAAtB,AAAAL,4CAAAF,eAAA,jEAAaM;IAAbH,aAAAJ;QAAA,AAAAK,4CAAAD,WAAA,IAAA,/DAA2BK;IAA3BH,aAAA,AAAAD,4CAAAD,WAAA,IAAA;WAAA,AAAAC,4CAAAC,WAAA,IAAA,lEAA8BI;YAA9B,AAAAL,4CAAAC,WAAA,IAAA,nEAAmCK;AAAnC,AACE,OAACC,mBAASJ,GAAG,6CAAA,uFAAA,sEAAA,gEAAA,8DAAA,xUAACK,gIAAMN,sRAAsDG,MAAMC;;AAEhG,sDAAA,tDAACb,kLACa,WAAAgB,SAAAC;AAAA,AAAA,IAAAC,aAAAF;IAAAE,iBAAA,AAAAd,4BAAAc;SAAAA,LAAsBR;UAAtB,AAAAL,4CAAAa,eAAA,jEAAaT;IAAbU,aAAAF;QAAA,AAAAV,4CAAAY,WAAA,IAAA,/DAA2BR;YAA3B,AAAAJ,4CAAAY,WAAA,IAAA,nEAA6BN;AAA7B,AACE,IAAMO,OAAK,kDAAA,uFAAA,sEAAA,gEAAA,8DAAA,sEAAA,2EAAA,gEAAA,9hBAACC,+CAAOX,sFAAID;IACjBa,kBAAgB,iBAAAC,WAAQV;AAAR,AAAA,GACQ,kDAAA,lDAACW,6CAAEJ;AAAU,QAAAG,WAAA;;AADrBA;;;AADtB,AAGE,6BAAA,uFAAA,sEAAA,gEAAA,8DAAA,sEAAA,2EAAA,gEAAA,lgBAACT,mBAASJ,sFAAID,udAAyFa;;AAEzH,sDAAA,tDAACtB,yJACa,WAAAyB,SAA0Bd;AAA1B,AAAA,IAAAe,aAAAD;IAAAC,iBAAA,AAAAtB,4BAAAsB;SAAAA,LAAsBhB;UAAtB,AAAAL,4CAAAqB,eAAA,jEAAajB;AAAb,AACE,IAAMI,QAAM,kDAAA,uFAAA,sEAAA,gEAAA,8DAAA,sEAAA,2EAAA,gEAAA,9hBAACQ,+CAAOX,sFAAID;AAAxB,6CACMC,nBACA,sBAAA,uFAAA,sEAAA,gEAAA,8DAAA,sEAAA,gEAAA,vbAACI,yGAAUL,4YAAwEI,/gBACnF,shBAAA,uFAAA,sEAAA,gEAAA,8DAAA,sEAAA,+EAAA,/7BAACC,kmBAAUL;;AAEjC,sDAAA,tDAACT,+KACa,WAAA2B,SAA0BhB;AAA1B,AAAA,IAAAiB,aAAAD;IAAAC,iBAAA,AAAAxB,4BAAAwB;SAAAA,LAAsBlB;UAAtB,AAAAL,4CAAAuB,eAAA,jEAAanB;AAAb,AACE,IAAMoB,iBAAe,oIAAA,2CAAA,uEAAA,tPAACC,uGAAMC;AAA5B,AACE,6BAAA,uFAAA,sEAAA,gEAAA,8DAAA,jTAACjB,mBAASJ,sFAAID,sRAAsDoB","names":["refx.alpha.reg_event_db","p__27691","p__27692","map__27693","cljs.core/--destructure-map","cljs.core.get","vec__27708","cljs.core.nth","vec__27711","kit","db","_","path","value","cljs.core/assoc-in","cljs.core.into","p__27735","p__27736","map__27737","vec__27738","unit","cljs.core.get_in","converted-value","G__27762","cljs.core._EQ_","p__27802","map__27804","p__27824","map__27826","default-values","cljs.core.merge","app.db.defaults/SLUDGE-VALVE"],"sourcesContent":["(ns app.db.boiler-plant.actuators.blowdown.sludge-valve.events\n  (:require [refx.alpha :refer [reg-event-fx reg-event-db]]\n            [app.db.defaults :as defaults]))\n\n(reg-event-db :change-sludge-valve\n              (fn [{:keys [kit] :as db} [_ [path value]]]\n                (assoc-in db (into [kit :boiler-plant :actuators :blowdown :sludge-valve] path) value)))\n\n(reg-event-db :change-sludge-valve-init-countdown-value\n              (fn [{:keys [kit] :as db} [_ value]]\n                (let [unit (get-in db [kit :boiler-plant :actuators :blowdown :sludge-valve :init-sim-output :countdown :unit])\n                      converted-value (cond-> value\n                                              (= unit \"m\") (* 60))]\n                  (assoc-in db [kit :boiler-plant :actuators :blowdown :sludge-valve :init-sim-output :countdown :value] converted-value))))\n\n(reg-event-db :apply-sludge-valve-settings\n              (fn [{:keys [kit] :as db} _]\n                (let [value (get-in db [kit :boiler-plant :actuators :blowdown :sludge-valve :init-sim-output :countdown :value])]\n                  (-> db\n                      (assoc-in [kit :boiler-plant :actuators :blowdown :sludge-valve :countdown :value] value)\n                      (assoc-in [kit :boiler-plant :actuators :blowdown :sludge-valve :settings-view] false)))))\n\n(reg-event-db :restore-defaults-sludge-valve-settings\n              (fn [{:keys [kit] :as db} _]\n                (let [default-values (merge defaults/SLUDGE-VALVE {:settings-view true})]\n                  (assoc-in db [kit :boiler-plant :actuators :blowdown :sludge-valve] default-values))))\n"]}