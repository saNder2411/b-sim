{"version":3,"sources":["app/views.cljs"],"mappings":"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","names":["G__39283","props__36450__auto__","maybe-ref__36451__auto__","vec__39284","helix.core/extract-cljs-props","map__39287","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","goog/DEBUG","G__39297","app.views/t-input","title","on-save","on-stop","props","vec__39288","value","set-value!","helix.hooks/use-state","stop","save","v","clojure.string/trim","or__5045__auto__","G__39295","p1__39280#","G__39296","p1__39281#","cljs.core.dissoc","app.views/on-edit-save","id","cljs.core/seq","refx.alpha/dispatch","G__39299","vec__39300","map__39303","G__39331","app.views/t-item","done","vec__39304","editing","set-editing!","cljs.core.partial","G__39333","vec__39334","G__39367","app.views/task-list","visible-todos","refx.alpha/use-sub","all-complete?","iter__5523__auto__","s__39354","cljs.core/LazySeq","temp__5804__auto__","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__39356","cljs.core/chunk-buffer","i__39355","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__39353","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","t","app.views/a-fn","showing","filter-kw","txt","cljs.core._EQ_","cljs.core/name","G__39373","vec__39374","G__39413","app.views/footer-controls","vec__39377","active","G__39357","G__39358","helix.impl.props/merge-obj","helix.impl.props._props","G__39359","helix.core/jsx","G__39362","G__39363","G__39364","G__39327","G__39328","obj39330","G__39428","G__39429","obj39431","p1__39414#","G__39438","helix.core/Fragment","G__39439","G__39444","G__39445","G__39446","G__39447","G__39448","G__39449","helix.core/jsxs","G__39392","G__39416","vec__39417","G__39432","app.views/task-entry","G__39434","vec__39435","G__39458","app.views/t-app","G__39291","G__39292","obj39294","helix.impl.props/or-undefined","helix.impl.props._dom_props","G__39307","G__39308","obj39310","helix.impl.props/normalize-class","G__39311","G__39312","obj39314","G__39315","G__39316","obj39318","G__39319","G__39320","obj39322","G__39323","G__39324","obj39326","G__39337","G__39338","obj39340","G__39341","G__39342","obj39344","G__39345","G__39346","obj39348","G__39349","G__39350","obj39352","G__39368","G__39369","obj39371","G__39380","G__39381","obj39383","G__39384","G__39385","obj39387","G__39388","G__39389","obj39391","G__39393","G__39394","obj39396","G__39397","G__39398","obj39400","G__39401","G__39402","obj39404","G__39405","G__39406","obj39408","G__39409","G__39410","obj39412","G__39420","G__39421","obj39423","G__39424","G__39425","obj39427","G__39440","G__39441","obj39443","G__39450","G__39451","obj39453","G__39454","G__39455","obj39457","cljs.core/chunk-first"],"sourcesContent":["(ns app.views\n  (:require [helix.core :refer [defnc $ <>]]\n            [helix.hooks :refer [use-state]]\n            [helix.dom :as d]\n            [refx.alpha :refer [use-sub dispatch]]\n            [clojure.string :as string]))\n\n(defnc t-input [{:keys [title on-save on-stop] :as props}]\n  (let [[value set-value!] (use-state title)\n        stop #(do (set-value! \"\")\n                  (when on-stop (on-stop)))\n        save #(let [v (-> value str string/trim)]\n                (on-save v)\n                (stop))]\n    (d/input {:type        \"text\"\n              :value       (or value \"\")\n              :auto-focus  true\n              :on-blur     save\n              :on-change   #(set-value! (-> % .-target .-value))\n              :on-key-down #(case (.-which %)\n                              13 (save)\n                              27 (stop)\n                              nil)\n              :&           (dissoc props :on-save :on-stop :title)})))\n\n(defn on-edit-save [id value]\n  (if (seq value)\n    (dispatch [:save id value])\n    (dispatch [:delete-todo id])))\n\n(defnc t-item [{:keys [id done title]}]\n  (let [[editing set-editing!] (use-state false)]\n    (d/li {:class (str (when done \"completed\") (when editing \"editing\"))}\n          (d/div {:class \"view\"}\n                 (d/input {:class     \"toggle\"\n                           :type      \"checkbox\"\n                           :checked   done\n                           :on-change #(dispatch [:toggle-done id])})\n\n                 (d/label {:on-double-click #(set-editing! true)} title)\n\n                 (d/button {:class \"destroy\" :on-click #(dispatch [:delete-todo id])}))\n          (when editing\n            ($ t-input {:class   \"edit\"\n                        :title   title\n                        :on-save (partial on-edit-save id)\n                        :on-stop #(set-editing! false)})))))\n\n(defnc task-list []\n  (let [visible-todos (use-sub [:visible-todos])\n        all-complete? (use-sub [:all-complete?])]\n    (d/section {:in \"main\"}\n               (d/input {:id        \"toggle-all\"\n                         :type      \"checkbox\"\n                         :checked   all-complete?\n                         :on-change #(dispatch [:complete-all-toggle])})\n\n               (d/label {:for \"toggle-all\"}\n                        \"Mark all as complete\")\n\n               (d/ul {:id \"todo-list\"}\n                     (for [t visible-todos]\n                       ($ t-item {:key (:id t) :& t}))))))\n\n(defn a-fn [showing filter-kw txt]\n  (d/a {:class (when (= filter-kw showing) \"selected\")\n        :href (str \"#/\" (name filter-kw))\n        :on-click #(dispatch [:set-showing filter-kw])}\n       txt))\n\n(defnc footer-controls []\n  (let [[active done] (use-sub [:footer-counts])\n        showing (use-sub [:showing])]\n    (d/footer {:id \"footer\"}\n              (d/span {:id \"todo-count\"}\n                      (d/strong active) \" \" (case active 1 \"item\" \"items\") \" left\")\n\n              (d/ul {:id \"filters\"}\n                    (d/li (a-fn showing :all \"All\"))\n                    (d/li (a-fn showing :active \"Active\"))\n                    (d/li (a-fn showing :done \"Done\")))\n              (when (pos? done)\n                (d/button {:id \"clear-completed\" :on-click #(dispatch [:clear-completed])}\n                          \"Clear completed\")))))\n\n(defnc task-entry []\n  (d/header {:id \"header\"}\n            (d/h1 \"Todos\")\n            ($ t-input {:id          \"new-todo\"\n                        :placeholder \"What needs to be done?\"\n                        :on-save     #(when (seq %) (dispatch [:add-todo %]))})))\n\n(defnc t-app []\n  (<>\n    (d/section {:id \"todoapp\"}\n               ($ task-entry)\n\n               (when (seq (use-sub [:todos]))\n                 ($ task-list))\n\n               ($ footer-controls))\n    (d/footer {:id \"info\"}\n              (d/p \"Double-click to edit a todo.\"))))\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n"]}