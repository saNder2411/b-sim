{"version":3,"sources":["app/db/subs.cljs"],"mappings":"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","names":["refx.alpha.reg_sub","db","_","refx.alpha/reg-sub","p__30559","map__30560","cljs.core/--destructure-map","cljs.core.get","firstname","lastname","p__30561","map__30562","kit","cljs.core.get_in","cljs.core.keyword","p__30563","map__30564","p__30565","map__30566","p__30567","map__30568","p__30569","map__30570","p__30571","map__30572","p__30573","map__30574","p__30575","map__30576","p__30577","vec__30578","cljs.core.nth","steam","steam-max","value","p__30581","map__30582","p__30583","map__30584","p__30585","map__30586","p__30587","map__30588","p__30589","map__30590","p__30591","map__30592","p__30593","map__30594","p__30595","map__30596","p__30597","map__30598","level-controller-id","p__30599","map__30600","p__30601","map__30602","p__30603","map__30604","p__30605","map__30606","p__30607","vec__30608","burner-limiter-id","sim","cljs.core.not_EQ_","p__30611","vec__30612","pump-limiter-id","p__30615","vec__30616","cond-controller-id","p__30619","vec__30620","level-probe-id","cljs.core._EQ_","level-controller-actuator-type","current-hotspot"],"sourcesContent":["(ns app.db.subs\n  (:require [refx.alpha :refer [reg-sub]]))\n\n(reg-sub :kit\n         (fn [db _]\n           (:kit db)))\n\n(reg-sub :screen-w\n         (fn [db _]\n           (-> db :screen :w)))\n\n(reg-sub :screen-h\n         (fn [db _]\n           (-> db :screen :h)))\n\n(reg-sub :screen-scale-f\n         (fn [db _]\n           (-> db :screen :scale-f)))\n\n(reg-sub :user\n         (fn [db _]\n           (:user db)))\n\n(reg-sub :user-full-name\n         :<- [:user]\n         (fn [{:keys [firstname lastname]} _]\n           (str firstname \" \" lastname)))\n\n(reg-sub :sim\n         (fn [db _]\n           (:sim db)))\n\n(reg-sub :lang\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :lang])))\n\n(reg-sub :operation-mode\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :operation-mode])))\n\n(reg-sub :ctrl-panel-view\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :ctrl-panel-view])))\n\n(reg-sub :settings-modal-view\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :settings-modal-view])))\n\n(reg-sub :highlight-hotspots\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :highlight-hotspots])))\n\n(reg-sub :current-hotspot\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :current-hotspot])))\n\n(reg-sub :steam\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :steam])))\n\n(reg-sub :steam-max\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :steam-max])))\n\n(reg-sub :steam-%\n         :<- [:steam]\n         :<- [:steam-max]\n         (fn [[steam steam-max] _]\n           (let [value (* 100 (/ steam steam-max))]\n             (if (< value 0) 0 value))))\n\n(reg-sub :burner-limiter-id\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :burner-limiter-id])))\n\n(reg-sub :burner-limiter-full-screen\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :burner-limiter-full-screen])))\n\n(reg-sub :pump-limiter-id\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :pump-limiter-id])))\n\n(reg-sub :pump-limiter-full-screen\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :pump-limiter-full-screen])))\n\n(reg-sub :cond-controller-id\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :cond-controller-id])))\n\n(reg-sub :cond-controller-full-screen\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :cond-controller-full-screen])))\n\n(reg-sub :level-controller-id\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :level-controller-id])))\n\n(reg-sub :level-controller-full-screen\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :level-controller-full-screen])))\n\n(reg-sub :level-controller-actuator-type\n         (fn [{:keys [kit] :as db} _]\n           (let [level-controller-id (get-in db [(keyword kit) :level-controller-id])]\n             (get-in db [(keyword level-controller-id) :actuator-type]))))\n\n(reg-sub :level-probe-id\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :level-probe-id])))\n\n(reg-sub :level-probe-full-screen\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :level-probe-full-screen])))\n\n(reg-sub :converter-id\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :converter-id])))\n\n(reg-sub :converter-full-screen\n         (fn [{:keys [kit] :as db} _]\n           (get-in db [(keyword kit) :converter-full-screen])))\n\n(reg-sub :show-burner-limiter-hot-spot\n         :<- [:burner-limiter-id]\n         :<- [:sim]\n         (fn [[burner-limiter-id sim] _]\n           (or (not= burner-limiter-id \"none\") (not= sim \"run\"))))\n\n(reg-sub :show-pump-limiter-hot-spot\n         :<- [:pump-limiter-id]\n         :<- [:sim]\n         (fn [[pump-limiter-id sim] _]\n           (or (not= pump-limiter-id \"none\") (not= sim \"run\"))))\n\n(reg-sub :show-cond-controller-hot-spot\n         :<- [:cond-controller-id]\n         :<- [:sim]\n         (fn [[cond-controller-id sim] _]\n           (or (not= cond-controller-id \"none\") (not= sim \"run\"))))\n\n(reg-sub :show-level-controller-hot-spot\n         :<- [:level-controller-id]\n         :<- [:sim]\n         (fn [[level-controller-id sim] _]\n           (or (not= level-controller-id \"none\") (not= sim \"run\"))))\n\n(reg-sub :show-converter-hot-spot\n         :<- [:level-probe-id]\n         (fn [level-probe-id _]\n           (= level-probe-id \"NRGT-26-2\")))\n\n(reg-sub :show-feedwater-valve-hot-spot\n         :<- [:level-controller-actuator-type]\n         (fn [level-controller-actuator-type _]\n           (not= level-controller-actuator-type \"FREQUENCY_CONTROLLED_PUMPS\")))\n\n(reg-sub :show-feedwater-pump-hot-spot\n         :<- [:level-controller-actuator-type]\n         (fn [level-controller-actuator-type _]\n           (= level-controller-actuator-type \"FREQUENCY_CONTROLLED_PUMPS\")))\n\n(reg-sub :show-toolbar\n         :<- [:current-hotspot]\n         (fn [current-hotspot _]\n           (not= current-hotspot \"none\")))\n\n\n"]}