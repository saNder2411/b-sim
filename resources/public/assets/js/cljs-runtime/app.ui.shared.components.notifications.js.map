{"version":3,"sources":["app/ui/shared/components/notifications.cljs"],"mappings":"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","names":["G__28662","props__27584__auto__","maybe-ref__27585__auto__","vec__28665","helix.core/extract-cljs-props","map__28670","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","goog/DEBUG","G__29397","app.ui.shared.components.notifications/notification","id","message","duration","vec__28687","hide-class","set-hide-class!","helix.hooks/use-state","delete","c__27277__auto__","cljs.core.async.chan","cljs.core.async.impl.dispatch/run","f__27278__auto__","switch__27098__auto__","state_29106","state_val_29107","statearr-29204","statearr-29207","inst_28876","inst_28878","inst_28879","statearr-29217","cljs.core.async.impl.ioc-helpers/take!","inst_28852","statearr-29227","statearr-29230","inst_28873","inst_28874","inst_28881","inst_28885","cljs.core/PersistentVector","inst_28920","inst_28921","inst_28922","statearr-29238","cljs.core.async.impl.ioc-helpers/return-chan","statearr-29241","state-machine__27099__auto__","ret-value__27100__auto__","result__27101__auto__","cljs.core/keyword-identical?","ex__27102__auto__","e29291","statearr-29296","cljs.core/seq","statearr-29298","cljs.core/first","state__27279__auto__","statearr-29351","cljs.core.async.impl.ioc-helpers/USER-START-IDX","cljs.core.async.impl.ioc-helpers/run-state-machine-wrapped","cljs.core.async/timeout","refx.alpha/dispatch","G__29427","vec__29432","G__29462","app.ui.shared.components.notifications/notifications","notifications","refx.alpha/use-sub","cljs.core.map","p__29444","vec__29445","n","G__29451","G__29452","helix.impl.props/merge-obj","obj29455","helix.impl.props._props","G__29453","helix.core/jsx","G__29381","G__29382","obj29392","helix.impl.props/normalize-class","G__29438","G__29439","obj29441","G__29353","helix.hooks/wrap-fx","G__29354","helix.hooks/raw-use-effect"],"sourcesContent":["(ns app.ui.shared.components.notifications\n  (:require [helix.core :refer [defnc $]]\n            [helix.dom :as d]\n            [helix.hooks :refer [use-state use-effect]]\n            [refx.alpha :refer [use-sub dispatch]]\n            [cljs.core.async :refer [<! timeout go]]))\n\n(defnc notification [{:keys [id message duration]}]\n  (let [[hide-class set-hide-class!] (use-state \"\")\n        delete #(go\n                  (<! (timeout (if duration (+ duration 500) 3500)))\n                  (set-hide-class! \" hide\")\n                  (<! (timeout 1000))\n                  (dispatch [:delete-notification id]))]\n    (use-effect :once\n                (delete))\n    (d/div {:class (str \"notification\" hide-class)}\n           message)))\n\n\n(defnc notifications []\n  (let [notifications (use-sub [:notifications])]\n    (d/div {:class \"notifications\"}\n           (map (fn [[id n]]\n                  ($ notification {:key id :id id :& n})) notifications))))\n\n\n"]}