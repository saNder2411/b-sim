{"version":3,"sources":["app/ui/shared/sidebar/control_panel/slider/core.cljs"],"mappings":"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","names":["app.ui.shared.sidebar.control-panel.slider.core/track-length","app.ui.shared.sidebar.control-panel.slider.core/track-geometry","width","app.ui.shared.sidebar.control-panel.slider.core/knob-geometry","app.ui.shared.sidebar.control-panel.slider.core/value-box-geometry","x","G__28903","props__27584__auto__","maybe-ref__27585__auto__","vec__28911","helix.core/extract-cljs-props","map__28914","cljs.core.nth","cljs.core/--destructure-map","cljs.core.get","goog/DEBUG","G__29031","app.ui.shared.sidebar.control-panel.slider.core/value-view","y","active","value","fraction","unit","fill","parsed-value","cljs.core._EQ_","cljs.pprint.cl_format","G__29108","vec__29111","map__29114","G__29243","app.ui.shared.sidebar.control-panel.slider.core/slider","z","title","max-val","v-%","next-v-%","value-box","vec__29119","knob-ref","track-ref","fill-track-ref","knob-x","value-%","val-in-unit","on-knob-down","on-track-down","on-fill-track-down","p1__29089#","app.ui.shared.sidebar.control-panel.slider.hook/use-slider","js/console.log","cljs.core/first","cljs.core/second","G__29211","G__29212","helix.impl.props/merge-obj","obj29216","helix.impl.props._props","helix.core/jsx","G__28951","G__28952","obj28956","G__28966","G__28967","obj28985","helix.impl.props._dom_props","G__29004","G__29005","obj29009","helix.core/jsxs","G__29148","G__29149","obj29157","G__29200","G__29201","obj29203","G__29218","G__29219","obj29221","G__29223","G__29224","obj29226","G__29228","G__29229","obj29232","G__29234","G__29235","obj29237"],"sourcesContent":["(ns app.ui.shared.sidebar.control-panel.slider.core\n  (:require [helix.core :refer [defnc $]]\n            [helix.dom :as d]\n            [cljs.pprint :refer [cl-format]]\n            [app.ui.shared.sidebar.control-panel.slider.hook :refer [use-slider]]))\n\n(def track-length 90)\n\n(defn track-geometry [width]\n  {:x 0 :y 3.25 :width width :height 3.5 :rx 1.75 :ry 1.75})\n\n(def knob-geometry {:cx 5 :cy 5 :r 5})\n\n(defn value-box-geometry [x width]\n  {:x x :y 0 :width width :height 10 :rx 5 :ry 5})\n\n(defnc value-view [{:keys [x width y active value fraction unit fill]}]\n  (let [parsed-value (if (= fraction 0)\n                       (int value)\n                       (cl-format nil (str \"~,\" fraction \"f\") value))]\n    (d/g {:transform (str \"translate(\" x \",\" y \") scale(3.134)\") :opacity (if active 1 0.25)}\n         (d/rect {:fill fill :& (value-box-geometry x width)})\n         (d/text {:x (+ x 31.8) :y 5.714 :font-size 7 :fill \"#eee\" :dominant-baseline \"middle\" :text-anchor \"end\"}\n                 (str parsed-value \" \" unit)))))\n\n(defnc slider [{:keys [x y z title max-val v-% next-v-% active value-box]}]\n  (let [[knob-ref track-ref fill-track-ref\n         knob-x value-% val-in-unit\n         on-knob-down on-track-down on-fill-track-down] (use-slider max-val next-v-% track-length (:r knob-geometry)\n                                                                    #(js/console.log \"effect-send\" (first %) (second %)))]\n    (d/g {:transform (str \"translate(\" x \",\" y \")\" \" scale(\" z \")\")}\n         (when title\n           (d/text {:x 0 :y -8 :class \"slider-title\" :font-size 20}\n                   title))\n         ($ value-view {:active active :value val-in-unit :& value-box})\n\n         (d/g {:transform \"scale(3.134)\" :opacity (if active 1 0.25)}\n              (d/rect {:ref             track-ref\n                       :fill            \"#6f7684\"\n                       :on-pointer-down (if active on-track-down nil)\n                       :&               (track-geometry 100)})\n\n              (d/rect {:ref             fill-track-ref\n                       :fill            \"#1cb0ea\"\n                       :on-pointer-down (if active on-fill-track-down nil)\n                       :&               (track-geometry value-%)})\n\n              (d/circle {:ref             knob-ref\n                         :class           \"slider-knob\"\n                         :transform       (str \"translate(\" knob-x \")\")\n                         :on-pointer-down (if active on-knob-down nil)\n                         :&               knob-geometry}))\n\n         )))\n\n\n\n\n\n\n\n\n\n\n"]}