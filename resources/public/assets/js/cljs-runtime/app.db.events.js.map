{"version":3,"sources":["app/db/events.cljs"],"mappings":"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","names":["p__41465","map__41466","cljs.core/--destructure-map","cljs.core.get","app.db.events/update-screen!","width","height","ratio","screen","cljs.core.assoc","refx.alpha.reg_event_fx","p__41479","vec__41480","cljs.core.nth","_","app.db.db/default-db","refx.alpha.reg_event_db","refx.interceptors.path","p__41496","vec__41497","p__41504","vec__41505","db","value","cljs.core/assoc-in","app.ws.socket/start!","refx.alpha/dispatch","p__41511","vec__41512","event","app.ws.socket/send!","p__41517","vec__41520","new-kit","p__41530","p__41531","map__41532","vec__41533","kit","new-value","js/console.log","p__41540","map__41541","p__41545","p__41546","map__41547","vec__41548","vec__41551","path","cljs.core.into","p__41555","map__41556","p__41558","p__41559","map__41560","vec__41561","unit","cljs.core.get_in","converted-value","G__41564","cljs.core._EQ_","p__41565","map__41566","controller-id","actuator-type","default-values","cljs.core.merge","app.db.defaults/GENERAL-SETTINGS","p__41569","p__41570","map__41571","vec__41572","kit-kw","p__41575","p__41576","map__41577","vec__41578","vec__41581","id","p__41584","p__41585","map__41586","vec__41587","vec__41590","p__41594","p__41595","map__41597","vec__41599","vec__41602","p__41607","p__41608","map__41609","vec__41610","vec__41613","p__41618","p__41619","map__41620","vec__41621","vec__41624","p__41633","p__41634","map__41635","vec__41636","vec__41639","p__41650","p__41651","map__41652","vec__41653","vec__41656","p__41666","p__41667","map__41668","vec__41669","p__41675","p__41676","map__41678","vec__41680","map__41683","notification","p__41684","p__41685","map__41686","vec__41687","cljs.core.update_in","cljs.core/dissoc"],"sourcesContent":["(ns app.db.events\n  (:require [refx.alpha :refer [reg-event-fx reg-event-db dispatch]]\n            [refx.interceptors :refer [path]]\n            [app.db.db :refer [default-db]]\n            [app.db.defaults :as defaults]\n            [app.ws.socket :as socket]))\n\n(defn update-screen! [width height {:keys [ratio] :as screen}]\n  (if (<= (/ width height) ratio)\n    (assoc screen :w width :h (/ width ratio) :scale-f (/ width 1920))\n    (assoc screen :w (* height ratio) :h height :scale-f (/ (* height ratio) 1920))))\n\n(reg-event-fx :initialize-db\n              (fn [_ [_ width height]]\n                {:db (assoc default-db :screen (update-screen! width height (:screen default-db)))}))\n\n(reg-event-db :window-resize\n              [(path :screen)]\n              (fn [screen [_ width height]]\n                (update-screen! width height screen)))\n\n(reg-event-db :ws/connected\n              (fn [db [_ value]]\n                (assoc-in db [:ws :connected] value)))\n\n(reg-event-db :ws/connect\n              (fn [_ _]\n                (socket/start!)\n                (dispatch [:ws/connected true])))\n\n(reg-event-db :ws/send!\n              (fn [db [_ event]]\n                (socket/send! event)\n                db))\n\n(reg-event-db :change-kit\n              (fn [db [_ new-kit]]\n                (assoc db :kit new-kit)))\n\n(reg-event-db :change-sim\n              (fn [{:keys [kit] :as db} [_ new-value]]\n                (js/console.log \"change sim\" new-value)\n                (assoc-in db [kit :sim] new-value)))\n\n(reg-event-db :reset-sim\n              (fn [{:keys [kit] :as db} _]\n                (js/console.log \"reset sim - stop sim and prevent to default all sim modules\" \"stop\")\n                (assoc-in db [kit :sim] \"stop\")))\n\n(reg-event-db :change-kit-data-by-path\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (assoc-in db (into [kit] path) new-value)))\n\n(reg-event-db :open-general-settings\n              (fn [{:keys [kit] :as db} _]\n                (-> db\n                    (assoc-in [kit :general-settings :view] true)\n                    (assoc-in [kit :hotspots :highlight] false))))\n\n(reg-event-db :change-steam-value\n              (fn [{:keys [kit] :as db} [_ value]]\n                (let [unit (get-in db [kit :general-settings :steam :unit])\n                      converted-value (cond-> value\n                                              (= unit \"T/h\") (* 1.016260162601626))]\n                  (assoc-in db [kit :general-settings :steam :value] converted-value))))\n\n(reg-event-db :restore-defaults-general-settings\n              (fn [{:keys [kit] :as db} _]\n                (let [controller-id (get-in db [kit :system-config :level :controller-id])\n                      actuator-type (get-in db [kit :level :controllers controller-id :actuator-type])\n                      default-values (merge defaults/GENERAL-SETTINGS {:view true})]\n                  (-> db\n                      (assoc-in [kit :boiler-plant :actuators :feed actuator-type :flow-rate :unit] \"t/h\")\n                      (assoc-in [kit :general-settings] default-values)))))\n\n(reg-event-db :change-current-hotspot\n              (fn [{:keys [kit] :as db} [_ new-value]]\n                (let [kit-kw kit]\n                  (-> db\n                      (assoc-in [kit-kw :hotspots :highlight] false)\n                      (assoc-in [kit-kw :hotspots :current] new-value)))))\n\n(reg-event-db :change-current-low-limiter\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [id (get-in db [kit :system-config :low-limiter :controller-id])]\n                  (assoc-in db (into [kit :low-limiter :controllers id] path) new-value))))\n\n(reg-event-db :change-current-high-limiter\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [id (get-in db [kit :system-config :high-limiter :controller-id])]\n                  (assoc-in db (into [kit :high-limiter :controllers id] path) new-value))))\n\n(reg-event-db :change-current-cond-controller\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [id (get-in db [kit :system-config :cond :controller-id])]\n                  (assoc-in db (into [kit :cond :controllers id] path) new-value))))\n\n(reg-event-db :change-current-level-controller\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [id (get-in db [kit :system-config :level :controller-id])]\n                  (assoc-in db (into [kit :level :controllers id] path) new-value))))\n\n(reg-event-db :change-current-feed-actuator\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [controller-id (get-in db [kit :system-config :level :controller-id])\n                      actuator-type (get-in db [kit :level :controllers controller-id :actuator-type])]\n                  (assoc-in db (into [kit :boiler-plant :actuators :feed actuator-type] path) new-value))))\n\n(reg-event-db :change-current-level-probe\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [id (get-in db [kit :system-config :level :probe-ids 0])]\n                  (assoc-in db (into [kit :level :probes 0 id] path) new-value))))\n\n(reg-event-db :change-current-converter\n              (fn [{:keys [kit] :as db} [_ [path new-value]]]\n                (let [id (get-in db [kit :system-config :converter :controller-id])]\n                  (assoc-in db (into [kit :converter :controllers id] path) new-value))))\n\n(reg-event-db :change-modal-info\n              (fn [{:keys [kit] :as db} [_ new-value]]\n                (assoc-in db [kit :modal-info] new-value)))\n\n(reg-event-db :push-notification\n              (fn [{:keys [kit] :as db} [_ {:keys [id] :as notification}]]\n                (assoc-in db [kit :notifications id] notification)))\n\n(reg-event-db :delete-notification\n              (fn [{:keys [kit] :as db} [_ id]]\n                (update-in db [kit :notifications] dissoc id)))\n\n"]}